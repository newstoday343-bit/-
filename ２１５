<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>視覚リズム・ポリリズムサンプル</title>
<style>
  /* ページ全体を黒背景に */
  body {
    margin: 0;
    background-color: black;
    overflow: hidden;
    height: 100vh;
  }

  /* アニメーションする形状の基本スタイル */
  .shape {
    position: absolute;
    border-radius: 50%; /* 円形 */
    opacity: 0;          /* 初期は透明 */
    transition: all 0.5s ease; /* すべての変化を0.5秒かけて滑らかに変化 */
  }
</style>
</head>
<body>

<script>
/* 色のパレット */
const colors = ['red','blue','yellow','green','purple','orange'];
const numShapes = 6; // 画面に表示する形状数
const shapes = [];

/* 初期形状生成 */
for(let i=0; i<numShapes; i++){
  const div = document.createElement('div');
  div.className = 'shape';
  document.body.appendChild(div);
  shapes.push(div);
}

/* ランダムステップ生成関数 */
function randomStep() {
  return {
    color: colors[Math.floor(Math.random() * colors.length)],
    size: Math.floor(Math.random() * 50) + 20, // 20〜70px
    x: Math.floor(Math.random() * window.innerWidth),
    y: Math.floor(Math.random() * window.innerHeight),
    opacity: Math.random() * 0.7 + 0.3 // 0.3〜1.0
  };
}

/* 各形状の独立ポリリズム更新 */
shapes.forEach((shape, i) => {
  const interval = 700 + i*150; // 微妙にテンポをずらす（700ms, 850ms, 1000ms…）
  setInterval(() => {
    const step = randomStep();
    shape.style.backgroundColor = step.color;
    shape.style.width = step.size + 'px';
    shape.style.height = step.size + 'px';
    shape.style.left = step.x + 'px';
    shape.style.top = step.y + 'px';
    shape.style.opacity = step.opacity;
  }, interval);
});

/* 初回表示 */
shapes.forEach(shape => {
  const step = randomStep();
  shape.style.backgroundColor = step.color;
  shape.style.width = step.size + 'px';
  shape.style.height = step.size + 'px';
  shape.style.left = step.x + 'px';
  shape.style.top = step.y + 'px';
  shape.style.opacity = step.opacity;
});
</script>

</body>
</html>


